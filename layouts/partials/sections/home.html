<section id="home" class="header-custom">
  {{ $video := resources.Get "images/hero-bg.mp4" }}
  
  <div class="video-container-custom">
    {{ if $video }}
    <video autoplay muted loop playsinline class="bg-video-nocrop">
      <source src="{{ $video.RelPermalink }}" type="video/mp4">
    </video>
    {{ end }}
    
    <div class="video-overlay-custom"></div>
  </div>

  <div class="container header-content-custom">
    <h1 class="header-title-custom">{{ .Site.Params.greeting }}</h1>
  </div>
</section>

<style>
  /* 1. Reset the section to be deep black and full screen */
  .header-custom {
    position: relative !important;
    height: 100vh !important;
    width: 100% !important;
    background-color: #000000 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    overflow: hidden !important;
  }

  /* 2. Create the container for the video */
  .video-container-custom {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 1 !important;
  }

  /* 3. THE FIX: object-fit: contain ensures NO cropping */
  .bg-video-nocrop {
    width: 100% !important;
    height: 100% !important;
    object-fit: contain !important; /* This stops the cropping */
    background-color: #000000 !important;
  }

  /* 4. The Overlay Layer */
  .video-overlay-custom {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    background: rgba(0, 0, 0, 0.3) !important; /* Dims video for readability */
    background-image: url('https://www.transparenttextures.com/patterns/dot-noise.png') !important;
    z-index: 2 !important;
    pointer-events: none !important;
  }

  /* 5. The Greeting Text */
  .header-content-custom {
    position: relative !important;
    z-index: 3 !important;
    text-align: center !important;
    color: #ffffff !important;
    text-shadow: 2px 2px 10px rgba(0,0,0,0.8) !important;
  }

  .header-title-custom {
    font-size: 3.5rem !important;
    font-weight: 700 !important;
  }

  @media (max-width: 768px) {
    .header-title-custom {
      font-size: 2.2rem !important;
    }
  }
</style>
